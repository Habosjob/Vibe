# IMPROVEMENTS

## Реализовано
- FastAPI API-слой `services/api_service.py` для чтения `bonds_enriched`, `bonds_enriched_incremental` и parquet-деталей.
- Режим `--dry-run` в `MOEX_API.py` (preflight без записи артефактов).
- Регламент SQLite-обслуживания (`ANALYZE` + `PRAGMA optimize`) при старте пайплайна.
- Увеличен TTL details-cache до 7 суток (недельный горизонт переиспользования).
- Улучшен intraday-export: отдельный файл `MOEX_Bonds_Finish_Price.xlsx` + TOP10 падения/роста + диаграммы.
- Улучшен импорт security overview: pipe-строки раскладываются по отдельным полям.

## Осознанно не реализовано
- Уведомления Telegram/Slack (по вашему условию).

## Предлагаемые доработки (функционал/оптимизация/сервисы)
1. **Выделить scheduler-service** (отдельный оркестратор запусков с idempotency key).
   - Профит: стабильные автозапуски, прозрачные ретраи, меньше ручных перезапусков.
2. **Вынести cache-policy в отдельный модуль конфигурации** (TTL, интервалы snapshot, лимиты retries).
   - Профит: изменение SLA без правок кода, проще эксплуатация.
3. **Сделать incremental-details по diff-списку бумаг** (обогащать только добавленные/измененные).
   - Профит: ускорение этапа 3 при больших объемах.
4. **Добавить read-model для UI** (предрасчитанные витрины в отдельных таблицах).
   - Профит: быстрые отчеты и API-ответы без тяжелых join/агрегаций на лету.
5. **Разнести сервисы по процессам**: `rates-ingest`, `details-enricher`, `quotes-snapshotter`, `api-service`.
   - Профит: независимое масштабирование, изоляция отказов, проще мониторинг SLA.
